---
import CallToAction from "../../components/Layout/CallToAction";
import Layout from "../../layouts/Layout.astro";
import '../../styles/global.scss';
import { projectsData } from "../../assets/data/projects";
import ProjectImages from "../../components/Pages/SingleProject/ProjectImages";

export async function getStaticPaths() {
  return projectsData.map((project) => ({
    params: { slug: project.id }, // Generate a page for each project
  }));
}

const { slug } = Astro.params;
const project = projectsData.find((p) => p.id === slug);

if (!project) {
  throw new Error(`Project not found: ${slug}`);
}
---

<Layout>
  <ProjectImages project={project} />
  <CallToAction />
</Layout>